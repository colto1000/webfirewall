<!DOCTYPE html>
<html>

<head>
    <title>webfirewall - Home</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/static/css/main.css" />
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
    <noscript><link rel="stylesheet" href="/static/css/noscript.css" /></noscript>
</head>

<body class="is-preload">
    
    <!-- Wrapper -->
    <div id="wrapper">
        
        <!-- Header -->
        <header id="header" class="alt">
            <h1>Logs Viewer</h1>
        </header>
        
        <!-- Nav -->
        <nav id="nav">
            <ul>
                <!-- <li><a href="#intro" class="active">Introduction</a></li>
                <li><a href="#clusters">Clusters</a></li> -->
                <li><a href="/dashboard">Home</a></li>
                <li><a href="#" class="active">Logs</a></li>
                <li><a href="/dashboard/monitor">Monitor</a></li>
                <li><a href="/logout" class="button primary">Logout</a></li>
            </ul>
        </nav>
        
        <!-- Main -->
        <div id="main">

            <section id="content" class="main">
                <h3><b>output.log</b></h3>
                <hr />
                <p id="logContent">Loading...</p>
            </section>

            <script>
                function fetchAndDisplayLogs() {
                    fetch('/api/logs')
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(`Failed to fetch logs: status ${response.status}`);
                            }
                            return response.text();
                        })
                        .then(data => {
                            document.getElementById('logContent').textContent = data;
                        })
                        .catch(error => {
                            console.error('Error fetching logs:', error);
                            document.getElementById('logContent').textContent = 'Error loading logs';
                        });
                }
            
                document.addEventListener('DOMContentLoaded', function() {
                    fetchAndDisplayLogs();
                    setInterval(fetchAndDisplayLogs, 2000); // Refresh every 2 seconds
                });
            </script>
            
        
        </div>
            
        <!-- Footer -->
        <footer id="footer">
            <section>
                <h2>About This Project</h2>
                <p>My name is Colton Nicholas, and I am a student finishing up my Master's Degree in Cybersecurity at the University of North Texas.
                    <br><br>This is a solo project from my Advanced Networking course from my Spring 2023 Semester, that I've decided to put continual work into as the months have passed since my time in this course. This is currently a work in progress and a way for me to test and learn Go and HTML.</p>
            </section>
            <section>
                <h2>About Me</h2>
                <dl class="alt">
                    <dt>Address</dt>
                    <dd>UNT &bull; Denton, TX</dd>
                    <dt>Email</dt>
                    <dd><a href="#">JamesNicholas@my.unt.edu</a></dd>
                </dl>
                <ul class="icons">
                    <li><a href="https://www.instagram.com/coltonnicholas" class="icon brands fa-instagram alt"><span class="label">Instagram</span></a></li>
                    <li><a href="https://github.com/colto1000/" class="icon brands fa-github alt"><span class="label">GitHub</span></a></li>
                </ul>
            </section>
            <p class="copyright">&copy; 2024, Colton Nicholas. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
        </footer>
        
        <!-- Scripts -->
        <script src="/static/js/jquery.min.js"></script>
        <script src="/static/js/jquery.scrollex.min.js"></script>
        <script src="/static/js/jquery.scrolly.min.js"></script>
        <script src="/static/js/browser.min.js"></script>
        <script src="/static/js/breakpoints.min.js"></script>
        <script src="/static/js/util.js"></script>
        <script src="/static/js/main.js"></script>
            
</body>
</html>
